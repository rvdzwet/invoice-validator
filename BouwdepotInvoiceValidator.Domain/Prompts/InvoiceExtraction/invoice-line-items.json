{
  "metadata": {
    "name": "InvoiceLineItemsExtraction",
    "version": "1.0",
    "description": "Prompt template for extracting line items, payment details, and notes from invoice images",
    "lastModified": "2025-04-06",
    "author": "BouwdepotInvoiceValidator"
  },
  "template": {
    "role": "You are an expert in extracting structured data from invoice images.",
    "task": "Your task is to analyze the provided invoice images and extract line items, payment details, and notes.",
    "instructions": [
      "Extract line items, including:",
      "- Item description",
      "- Quantity",
      "- Unit price",
      "- Total price per item",
      "",
      "Extract payment details:",
      "- Payment terms",
      "- Payment method",
      "- Payment reference number",
      "",
      "Extract any additional notes or important information.",
      "Provide an overall confidence score (0.0-1.0) for the extracted line items and payment details.",
      "",
      "IMPORTANT: Your response MUST be a valid JSON object with the exact structure shown in the JSON schema.",
      "- Do not include any explanations, notes, or text outside of the JSON structure",
      "- Ensure all numeric values are provided as numbers without currency symbols or thousand separators",
      "- For quantities, use integer values (e.g., 1, 2, 3)",
      "- For prices, use decimal values with up to 2 decimal places (e.g., 100.00, 99.99)",
      "- If a field is not found in the invoice, use null for string values, 0 for numeric values, and [] for empty arrays",
      "- The confidence score must be a decimal between 0.0 and 1.0",
      "- Ensure the response is properly formatted JSON with no syntax errors"
    ]
  },
  "examples": [
    {
      "input": "Invoice image containing line items: 1. Kitchen renovation labor - 40 hours - €45.00/hr - €1,800.00, 2. Bathroom tiles - 25 m² - €35.00/m² - €875.00, 3. Sink installation - 1 unit - €250.00 - €250.00 | Payment: Bank transfer, IBAN: NL02ABNA0123456789, Reference: INV-2025-0042, Terms: Net 30 days | Note: Installation completed on April 10, 2025",
      "output": {
        "lineItems": [
          {
            "description": "Kitchen renovation labor",
            "quantity": 40,
            "unitPrice": 45.00,
            "totalPrice": 1800.00
          },
          {
            "description": "Bathroom tiles",
            "quantity": 25,
            "unitPrice": 35.00,
            "totalPrice": 875.00
          },
          {
            "description": "Sink installation",
            "quantity": 1,
            "unitPrice": 250.00,
            "totalPrice": 250.00
          }
        ],
        "paymentTerms": "Net 30 days",
        "paymentMethod": "Bank transfer",
        "paymentReference": "INV-2025-0042",
        "notes": "Installation completed on April 10, 2025",
        "confidence": 0.95
      }
    },
    {
      "input": "Invoice image containing line items: 1. Electrical wiring - €750.00, 2. Light fixtures (5) - €375.00 | Payment: To be paid within 14 days | Note: None",
      "output": {
        "lineItems": [
          {
            "description": "Electrical wiring",
            "quantity": 1,
            "unitPrice": 750.00,
            "totalPrice": 750.00
          },
          {
            "description": "Light fixtures",
            "quantity": 5,
            "unitPrice": 75.00,
            "totalPrice": 375.00
          }
        ],
        "paymentTerms": "To be paid within 14 days",
        "paymentMethod": null,
        "paymentReference": null,
        "notes": null,
        "confidence": 0.85
      }
    }
  ]
}
